import{a as x,i,h as B,a1 as C,N,O as V,o as E,m as $,w as d,T as F,f as s,y as A,c as l,u as n,t as M,a5 as S,a6 as T,a7 as m,a8 as U,a9 as I,k as R,aa as D,U as L,ab as O,g as q}from"./index-eTN858IF.js";import{i as z}from"./dataset-CbZsxAcs.js";import{g as H}from"./common-WSqv98V6.js";import"./index-DpR8vo3Y.js";const j={class:"popup-top"},G={class:"txt"},J={class:"popup-middle"},K={class:"popup-bt"},u="create-company",P=x({__name:"index",setup(Q){const f=i(),p=i(!1),[y,w]=B.useMessage(),v=i([]);function h(){H().then(e=>{e&&(e==null?void 0:e.code)===0&&e.data.forEach(a=>{var t;(t=v.value)==null||t.push({value:a.name,label:a.label})})})}const k=i(!1),o=C({name:"",alg_type:null,data_type:"",remark:""}),r=i();N(()=>{document.addEventListener(`${u}-popup-dialog-show`,g);const e=new CustomEvent(`${u}-popup-dialog-ready`);document.dispatchEvent(e)}),V(()=>{_()});function g(e){p.value=e.detail.show,r.value=e.detail.callback,o.data_type=e.detail.data_type}function _(){document.removeEventListener(`${u}-popup-dialog-show`,g)}function b(){k.value||f.value.validate().then(async()=>{z(o).then(e=>{e&&e.code===0&&(y.success("创建成功！"),r.value&&r.value("创建成功！"),c(""))})}).catch(e=>{console.log("error",e)})}function c(e){const a=new CustomEvent(`${u}-popup-dialog-confirm`,{detail:{text:e}});document.dispatchEvent(a),p.value=!1,_()}return h(),(e,a)=>(E(),$(O,{name:"el-fade-in"},{default:d(()=>[F(s("div",{class:"popup-box",onMousedown:a[6]||(a[6]=t=>c(""))},[s("div",{class:"popup-cont",onMousedown:a[5]||(a[5]=A(()=>{},["stop"]))},[l(n(w)),s("div",j,[s("span",G,M(o.data_type==="train"?"创建训练集":"创建测试集"),1),l(n(S),{class:"popup-close",onClick:a[0]||(a[0]=t=>c(""))})]),s("div",J,[l(n(T),{ref_key:"formRef",ref:f,model:o,name:"basic",autocomplete:"off",layout:"vertical",style:{width:"80%"}},{default:d(()=>[l(n(m),{label:"数据集名称",name:"name",rules:[{required:!0,message:"请输入数据集名称"}]},{default:d(()=>[l(n(U),{value:o.name,"onUpdate:value":a[1]||(a[1]=t=>o.name=t),placeholder:"请输入数据集名称"},null,8,["value"])]),_:1}),l(n(m),{label:"算法类型",name:"alg_type",rules:[{required:!0,message:"请选择算法类型"}]},{default:d(()=>[l(n(I),{value:o.alg_type,"onUpdate:value":a[2]||(a[2]=t=>o.alg_type=t),"show-search":"",allowClear:"",placeholder:"请选择算法类型",options:v.value},null,8,["value","options"])]),_:1}),R("",!0),l(n(m),{label:"版本备注",name:"remark"},{default:d(()=>[l(n(D),{value:o.remark,"onUpdate:value":a[3]||(a[3]=t=>o.remark=t),placeholder:"1个数据集下最多可创建100个版本，请输入当前版本的备注信息","auto-size":{minRows:6,maxRows:6}},null,8,["value"])]),_:1})]),_:1},8,["model"])]),s("div",K,[s("button",{class:"common-btn confirm",onClick:b}," 创建并导入 "),s("button",{class:"common-btn default bleft",onClick:b}," 直接创建 "),s("button",{class:"common-btn default bleft",onClick:a[4]||(a[4]=t=>c(""))}," 关闭 ")])],32)],544),[[L,p.value]])]),_:1}))}}),ee=q(P,[["__scopeId","data-v-45361d6f"]]);export{ee as default};
