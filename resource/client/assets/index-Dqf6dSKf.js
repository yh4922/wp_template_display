import{a as h,i,h as E,a1 as $,N as R,O as T,o as A,m as F,w as n,T as M,f as u,y as N,c as t,u as s,a5 as U,a6 as S,a7 as c,ac as V,ad as b,l as y,a9 as B,aa as L,U as O,ab as q,g as D}from"./index-eTN858IF.js";import{j as G}from"./dataset-CbZsxAcs.js";import{g as I}from"./common-WSqv98V6.js";import"./index-DpR8vo3Y.js";const j={class:"popup-top"},z={class:"popup-middle"},H={class:"popup-bt"},p="create-company",J=h({__name:"index",setup(K){const f=i(),r=i(!1),[_,P]=E.useMessage(),v=i([]);function k(){I().then(a=>{a&&(a==null?void 0:a.code)===0&&a.data.forEach(e=>{var o;(o=v.value)==null||o.push({value:e.name,label:e.label})})})}const x=i(!1),l=$({dataset_id:"",type:2,inherit:1,alg_type:"",remark:""}),m=i();R(()=>{document.addEventListener(`${p}-popup-dialog-show`,g);const a=new CustomEvent(`${p}-popup-dialog-ready`);document.dispatchEvent(a)}),T(()=>{w()});function g(a){r.value=a.detail.show,l.dataset_id=a.detail.id,m.value=a.detail.callback}function w(){document.removeEventListener(`${p}-popup-dialog-show`,g)}function C(){x.value||f.value.validate().then(async()=>{G(l).then(a=>{a&&a.code===0&&(_.success("创建成功！"),m.value&&m.value("创建成功！"),d(""))})}).catch(a=>{console.log("error",a)})}function d(a){const e=new CustomEvent(`${p}-popup-dialog-confirm`,{detail:{text:a}});document.dispatchEvent(e),r.value=!1,w()}return k(),(a,e)=>(A(),F(q,{name:"el-fade-in"},{default:n(()=>[M(u("div",{class:"popup-box",onMousedown:e[6]||(e[6]=o=>d(""))},[u("div",{class:"popup-cont",onMousedown:e[5]||(e[5]=N(()=>{},["stop"]))},[u("div",j,[e[7]||(e[7]=u("span",{class:"txt"},"创建数据集版本",-1)),t(s(U),{class:"popup-close",onClick:e[0]||(e[0]=o=>d(""))})]),u("div",z,[t(s(S),{ref_key:"formRef",ref:f,model:l,name:"basic",autocomplete:"off",layout:"vertical",style:{width:"80%"}},{default:n(()=>[t(s(c),{label:"创建方式",name:"type",rules:[{required:!0,message:"请选择创建方式"}]},{default:n(()=>[t(s(V),{value:l.type,"onUpdate:value":e[1]||(e[1]=o=>l.type=o),name:"radioGroup"},{default:n(()=>[t(s(b),{value:1,disabled:""},{default:n(()=>e[8]||(e[8]=[y("继承已有版本")])),_:1}),t(s(b),{value:2},{default:n(()=>e[9]||(e[9]=[y("创建全新版本")])),_:1})]),_:1},8,["value"])]),_:1}),t(s(c),{label:"算法类型",name:"alg_type",rules:[{required:!0,message:"请选择算法类型"}]},{default:n(()=>[t(s(B),{value:l.alg_type,"onUpdate:value":e[2]||(e[2]=o=>l.alg_type=o),"show-search":"",allowClear:"",placeholder:"请选择算法类型",options:v.value},null,8,["value","options"])]),_:1}),t(s(c),{label:"版本备注",name:"remark"},{default:n(()=>[t(s(L),{value:l.remark,"onUpdate:value":e[3]||(e[3]=o=>l.remark=o),placeholder:"请输入当前版本的备注信息","auto-size":{minRows:6,maxRows:6}},null,8,["value"])]),_:1})]),_:1},8,["model"])]),u("div",H,[u("button",{class:"common-btn confirm",onClick:C},"确定"),u("button",{class:"common-btn default bleft",onClick:e[4]||(e[4]=o=>d(""))}," 关闭 ")])],32)],544),[[O,r.value]])]),_:1}))}}),Z=D(J,[["__scopeId","data-v-8d7a041a"]]);export{Z as default};
